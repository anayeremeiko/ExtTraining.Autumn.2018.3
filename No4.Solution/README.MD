Исходные классы содержат в себе много повторяющегося кода, который можно выделить в отдельную абстракцию, которая в свою очередь принимает генераторы массива байтов и использует их для записи контента в файл.
